{% extends 'base.html.twig' %}

{% block title %}Votre panier
{% endblock %}

{% block body %}
	<div class="container cadre rounded mt-5">
		{%if panier is not empty %}
		<p class="titre text-center">Votre panier</p>
			{% for item in panier %}
				<div class="container mt-3 pb-2 border-bottom">
					
					<div class="row">
						<div class="row col-9">
							<p class="col sousTitre libelle">	{{item.article.libelleArticle}}	</p>			
							<p class="col prix"> Prix: {{(item.article.prixAchat*coefCli)|number_format(2, '.', '')}} €</p>
						</div>				 
						<div class="col-3 container">
							<div class="row">
								<div class="col btn-group">
									<a href="{{ path('app_panier_remove_one', {id: item.article.id}) }}" class="btn btn-outline-light sousTitre" title='Diminuer la quantité'>-</a>				
									<a href="{{ path('app_panier_add', {id: item.article.id}) }}" class="btn btn-outline-light sousTitre" title="Augmenter la quantité">+</a>
								</div>
								<p class="text-center quantite sousTitre col rounded m-auto">{{item.quantite}}</p>
								<a href="{{ path('app_panier_remove_all', {id: item.article.id}) }}" class="btn colbtn-outline-light col" title='Supprimer du panier'>
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-trash" viewbox="0 0 16 16">
									<path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
									<path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
									</svg>						
								</a>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
			<p class="mt-3 pb-2 border-bottom text-end px-4">Total: {{total|number_format(2, '.', '')}} €</p>
			<div class="container d-flex justify-content-evenly m-3 ">
				<a href="{{path('app_catalogue')}}" class="btn btn-outline-light ">Revenir au catalogue</a>
				<a href="{{ path('app_panier_empty')}}" class="btn btn-outline-light">Vider le panier</a>
				<a href="{{ path('app_commande') }}" class="btn btn-outline-light">Valider la commande</a>
			</div>
		{% else %}
			<div>
				<h1 class="text-center">Votre panier est vide!</h1>			
				<a href="{{ path('app_catalogue') }}" class="btn btn-outline-light m-auto mb-3 text-center">Revenir au catalogue</a>
			</div>
	{% endif %}
	</div>
{% endblock %}
